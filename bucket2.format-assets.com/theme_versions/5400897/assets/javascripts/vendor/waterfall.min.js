function waterfall(t){function e(t){return window.getComputedStyle(t)}function n(t,n){return parseFloat(e(n)["margin"+t])||0}function r(t){return t+"px"}function o(t){return parseFloat(t.style.top)}function l(t){return parseFloat(t.style.left)}function u(t){return parseFloat(e(t).width)}function i(t){return parseFloat(e(t).height)}function s(t){return o(t)+i(t)+n("Bottom",t)}function f(t){return l(t)+u(t)+n("Right",t)}function a(t){t=t.sort(function(t,e){return s(e)-s(t)||l(e)-l(t)})}"string"==typeof t&&(t=document.querySelector(t)),t.style.position="relative";var p=[],c=[].map.call(t.children,function(t){return t.style.position="absolute",t});c.length&&(c[0].style.top="0px",c[0].style.left=r(n("Left",c[0])),p.push(c[0]));for(var y=1;y<c.length;y++){var h=c[y-1],g=c[y];if(!(f(h)+u(g)<=u(t)))break;g.style.top=h.style.top,g.style.left=r(f(h)+n("Left",g)),p.push(g)}for(;y<c.length;y++){a(p);var g=c[y],m=p.pop();g.style.top=r(s(m)+n("Top",g)),g.style.left=r(l(m)),p.push(g)}a(p);var v=p[0];t.style.height=r(s(v)+n("Bottom",v))}